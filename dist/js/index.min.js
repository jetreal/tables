var scrolled;function makeResizableDiv(e){const t=document.querySelector(e),r=document.querySelectorAll(e+" .resizer"),a=20;let n=0,o=0,p=0,s=0,g=0,d=0;for(let e=0;e<r.length;e++){const u=r[e];function i(e){if(u.classList.contains("bottom-right")){getParentCenter(),getCornerCoords();const p=n+(e.pageX-g),s=o+(e.pageY-d);if(wrapperWidth-draggedMap.offsetWidth>sumPosAndTranslLeft){t.style.width=p+10+"px";var r=new Event("mouseup");return void window.dispatchEvent(r)}if(wrapperHeight-draggedMap.offsetHeight>sumPosAndTranslTop){t.style.height=s+10+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}p>a&&(t.style.width=p+"px"),s>a&&(t.style.height=s+"px")}else if(u.classList.contains("bottom-left")){getParentCenter(),getCornerCoords();const i=o+(e.pageY-d),l=n-(e.pageX-g);if(sumPosAndTranslLeft>wrapperWidth){t.style.width=l+10+"px",t.style.left=p-10+(e.pageX-g)+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}if(wrapperHeight-draggedMap.offsetHeight>sumPosAndTranslTop){t.style.height=i+10+"px",t.style.top=s+10+(e.pageY-d)+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}i>a&&(t.style.height=i+"px"),l>a&&(t.style.width=l+"px",t.style.left=p+(e.pageX-g)+"px")}else if(u.classList.contains("top-right")){getParentCenter(),getCornerCoords();const p=n+(e.pageX-g),i=o-(e.pageY-d);if(wrapperWidth-draggedMap.offsetWidth>sumPosAndTranslLeft){t.style.width=p+10+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}if(wrapperHeight<sumPosAndTranslTop){t.style.height=i+10+"px",t.style.top=s-10+(e.pageY-d)+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}p>a&&(t.style.width=p+"px"),i>a&&(t.style.height=i+"px",t.style.top=s+(e.pageY-d)+"px")}else{const i=n-(e.pageX-g),l=o-(e.pageY-d);if(getParentCenter(),getCornerCoords(),sumPosAndTranslLeft>wrapperWidth){t.style.width=i+10+"px",t.style.left=p-10+(e.pageX-g)+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}if(wrapperHeight<sumPosAndTranslTop){t.style.height=l+10+"px",t.style.top=s-10+(e.pageY-d)+"px";r=new Event("mouseup");return void window.dispatchEvent(r)}i>a&&(t.style.width=i+"px",t.style.left=p+(e.pageX-g)+"px"),l>a&&(t.style.height=l+"px",t.style.top=s+(e.pageY-d)+"px")}}function l(){window.removeEventListener("mousemove",i)}u.addEventListener("mousedown",(function(e){e.preventDefault(),n=parseFloat(getComputedStyle(t,null).getPropertyValue("width").replace("px","")),o=parseFloat(getComputedStyle(t,null).getPropertyValue("height").replace("px","")),p=t.offsetLeft,s=t.offsetTop,g=e.pageX,d=e.pageY,window.addEventListener("mousemove",i),window.addEventListener("mouseup",l)}))}}window.onscroll=function(){scrolled=window.pageYOffset||document.documentElement.scrollTop,document.getElementById("scroll").innerHTML=scrolled+"px : scroll"},$(window).on("load resize",(function(){var e=$("html").outerWidth(),t=$(window).height();$("#width").html(e+"px : width"),$("#height").html(t+"px : height")})),document.onmousemove=function(e){var t=e.pageX,r=e.pageY;document.getElementById("mouseX").innerHTML=t+": mouseX",document.getElementById("mouseY").innerHTML=r+": mouseY"},makeResizableDiv(".resizable");const wrapperDraggerMap=document.querySelector(".j-wrap-content-map"),draggedMap=document.querySelector(".draggedMap"),topLeftCorner=document.querySelector(".top-left"),mapConner=document.querySelectorAll(".resizer"),addTableBtn=document.querySelector(".j-wrap-content-sidebar__add-table-btn");function onDrag(){let e,t;switch(getParentCenter(),getCornerCoords(),!0){case wrapperWidth<sumPosAndTranslLeft:Draggable.get(draggedMap).endDrag(),e=Draggable.get(draggedMap).x,t=Draggable.get(draggedMap).y,TweenLite.set(this.target,{x:e-20,y:t});break;case wrapperHeight<sumPosAndTranslTop:Draggable.get(draggedMap).endDrag(),e=Draggable.get(draggedMap).x,t=Draggable.get(draggedMap).y,TweenLite.set(this.target,{x:e,y:t-20});break;case wrapperWidth-draggedMap.offsetWidth>sumPosAndTranslLeft:Draggable.get(draggedMap).endDrag(),e=Draggable.get(draggedMap).x,t=Draggable.get(draggedMap).y,TweenLite.set(this.target,{x:e+20,y:t});break;case wrapperHeight-draggedMap.offsetHeight>sumPosAndTranslTop:Draggable.get(draggedMap).endDrag(),e=Draggable.get(draggedMap).x,t=Draggable.get(draggedMap).y,TweenLite.set(this.target,{x:e,y:t+20});break;default:return}}function dragMap(){Draggable.create(draggedMap,{onStart:onDrag,onDrag:onDrag})}let wrapperWidth,wrapperHeight,sumPosAndTranslLeft,sumPosAndTranslTop,posLeft,posTop;function getParentCenter(){wrapperWidth=parseFloat(getComputedStyle(wrapperDraggerMap,null).getPropertyValue("width").replace("px",""))/2,wrapperHeight=parseFloat(getComputedStyle(wrapperDraggerMap,null).getPropertyValue("height").replace("px",""))/2}function getCornerCoords(){posLeft=draggedMap.offsetLeft,posTop=draggedMap.offsetTop;const e=draggedMap.style.transform||"translate(0px, 0px)";let t=(a=(r=e).indexOf("("),n=r.indexOf(","),parseInt(r.slice(a+1,n-2)));var r,a,n;let o=function(e){var t=e.indexOf(","),r=e.indexOf(")");return parseInt(e.slice(t+1,r-1))}(e);sumPosAndTranslLeft=t+posLeft,sumPosAndTranslTop=o+posTop}mapConner.forEach(e=>{e.addEventListener("mouseover",(function(){Draggable.get(draggedMap).disable()}))}),mapConner.forEach(e=>{e.addEventListener("mouseout",dragMap)}),dragMap(),getParentCenter(),getCornerCoords();